{"version":3,"sources":["api/api.tsx","components/create.tsx","components/Form.tsx","components/LoginForm.tsx","components/Header.tsx","components/Paper.tsx","slate/Main.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["lookup","method","endpoint","callback","data","xhr","XMLHttpRequest","responseType","open","window","location","origin","setRequestHeader","btoa","coockie","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","getCookie","onload","response","status","onerror","e","console","log","message","send","JSON","stringify","Create","props","React","useState","title","description","state","setstate","setData","pre","books","onChange","target","value","placeholder","required","who_can_see","onClick","author","Form","element","className","action","dataset","logouturl","hidden","crf","type","LoginForm","href","loginurl","autoComplete","maxLength","id","Header","getElementById","username","Paper","item","filter","style","border","margin","contentEditable","Main","editor","useMemo","withReact","createEditor","children","text","setValue","newValue","onKeyDown","event","key","preventDefault","insertText","App","useEffect","map","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.9d60a4b9.chunk.js","sourcesContent":["const getCookie = (name: string) => {\n  let cookieValue = null;\n  if (document.cookie && document.cookie !== \"\") {\n    const cookies = document.cookie.split(\";\");\n    for (let i = 0; i < cookies.length; i++) {\n      const cookie = cookies[i].trim();\n      // Does this cookie string begin with the name we want?\n      if (cookie.substring(0, name.length + 1) === name + \"=\") {\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n        break;\n      }\n    }\n  }\n  return cookieValue;\n};\nexport default function lookup(\n  method: string,\n  endpoint: string,\n  callback: Function,\n  data?: any\n) {\n  const xhr = new XMLHttpRequest();\n  xhr.responseType = \"json\";\n  xhr.open(method, `${window.location.origin}/${endpoint}`);\n  xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n  xhr.setRequestHeader(\n    \"Authorization\",\n    \"Basic \" + btoa(\"Ali\" + \":\" + \"AAssppmm11\")\n  );\n  const coockie = getCookie(\"csrftoken\");\n  if (coockie) {\n    xhr.setRequestHeader(\"HTTP_X_REQUESTED_WITH\", \"XMLHttpRequest\");\n    xhr.setRequestHeader(\"X-Requested-with\", \"XMLHttpRequest\");\n    xhr.setRequestHeader(\"X-CSRFToken\", coockie);\n  }\n  xhr.onload = function () {\n    callback(xhr.response, xhr.status);\n  };\n  xhr.onerror = function (e) {\n    console.log(e);\n    callback({ message: \"The request was an error\" }, 400);\n  };\n  xhr.send(JSON.stringify(data));\n}\n","import React from \"react\";\nimport lookup from \"../api/api\";\n\nfunction Create(props: any) {\n  const [state, setstate] = React.useState<any>({ title: \"\", description: \"\" });\n  const callback = (response: any, status: number) => {\n    props.setData((pre: any) => {\n      return [...pre, response.books];\n    });\n    console.log(response, status);\n  };\n  return (\n    <div>\n      <input\n        onChange={(e) =>\n          setstate((pre: any) => {\n            return { ...pre, title: e.target.value };\n          })\n        }\n        placeholder=\"title\"\n      />\n      <input\n        onChange={(e) =>\n          setstate((pre: any) => {\n            return { ...pre, description: e.target.value };\n          })\n        }\n        placeholder=\"description\"\n      />\n      <input\n        required={false}\n        onChange={(e) =>\n          setstate((pre: any) => {\n            return {\n              ...pre,\n              who_can_see: e.target.value,\n            };\n          })\n        }\n        placeholder=\"who_can_see\"\n      />\n      <button\n        onClick={() => {\n          console.log(state);\n          lookup(\"POST\", \"api/addbook/\", callback, {\n            author: 1,\n            ...state,\n          });\n        }}\n      >\n        create book\n      </button>\n    </div>\n  );\n}\n\nexport default Create;\n","import React from \"react\";\n\nfunction Form(element: any) {\n  return (\n    <form className=\"logout\" method=\"post\" action={element.dataset.logouturl}>\n      <input hidden name=\"csrfmiddlewaretoken\" value={element.dataset.crf} />\n      <button type=\"submit\">logout</button>\n    </form>\n  );\n}\n\nexport default Form;\n","import React from \"react\";\n\nfunction LoginForm(element: any) {\n  return (\n    <div>\n      <a\n        title=\"Google\"\n        className=\"socialaccount_provider google\"\n        href=\"/accounts/google/login/?process=login\"\n      >\n        login/singup with google\n      </a>\n      <form className=\"login\" method=\"POST\" action={element.dataset.loginurl}>\n        <input hidden name=\"csrfmiddlewaretoken\" value={element.dataset.crf} />\n        <input\n          type=\"text\"\n          name=\"login\"\n          placeholder=\"Username\"\n          autoComplete=\"username\"\n          maxLength={150}\n          required={true}\n          id=\"id_login\"\n        />\n        <input\n          type=\"password\"\n          name=\"password\"\n          placeholder=\"Password\"\n          autoComplete=\"current-password\"\n          required={true}\n          id=\"id_password\"\n        />\n        <input type=\"checkbox\" name=\"remember\" id=\"id_remember\" />\n        <button className=\"primaryAction\" type=\"submit\">\n          Sign In\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default LoginForm;\n","import React from \"react\";\nimport Form from \"./Form\";\nimport LoginForm from \"./LoginForm\";\nfunction Header() {\n  const element = document.getElementById(\"root\")!;\n  return (\n    <div>\n      <h1>{element.dataset.username}</h1>\n      {element.dataset.username !== \"AnonymousUser\" && Form(element)}\n      {element.dataset.username === \"AnonymousUser\" && LoginForm(element)}\n    </div>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\nimport lookup from \"../api/api\";\n\nfunction Paper(\n  item: { id: number; title: string; description: string },\n  setstate: any\n) {\n  const callback = (response: any, status: number) => {\n    console.log(response);\n    setstate((pre: any) => pre.filter((item: any) => item !== response.books));\n    console.log({ response: response, status: status });\n  };\n  return (\n    <div style={{ border: \"1px solid black\", margin: \"5px\" }}>\n      <h1 contentEditable>{item.title}</h1>\n      <p contentEditable>{item.description}</p>\n      <button\n        onClick={() => {\n          lookup(\"DELETE\", `api/deletebook/${item.id}/`, callback);\n        }}\n      >\n        Delete\n      </button>\n    </div>\n  );\n}\n\nexport default Paper;\n","import React, { useEffect, useMemo, useState } from \"react\";\nimport { createEditor } from \"slate\";\nimport { Slate, Editable, withReact } from \"slate-react\";\nfunction Main() {\n  const editor = useMemo(() => withReact(createEditor()), []);\n  // Add the initial value when setting up our state.\n  const [value, setValue] = useState([\n    {\n      type: \"paragraph\",\n      children: [{ text: \"A line of text in a paragraph.\" }],\n    },\n  ]);\n\n  return (\n    <Slate\n      editor={editor}\n      value={value}\n      onChange={(newValue: any) => setValue(newValue)}\n    >\n      <Editable\n        onKeyDown={(event: any) => {\n          if (event.key === \"&\") {\n            // Prevent the ampersand character from being inserted.\n            event.preventDefault();\n            // Execute the `insertText` method when the event occurs.\n            editor.insertText(\"and\");\n          }\n        }}\n      />\n    </Slate>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\nimport \"./App.css\";\nimport Create from \"./components/create\";\nimport lookup from \"./api/api\";\nimport Header from \"./components/Header\";\nimport Paper from \"./components/Paper\";\nimport Main from \"./slate/Main\";\n// auth credineitals not provided\n//one posisble solotion it to make ajax inside the localhost:8000\nfunction App() {\n  // ðŸ”´I can't set cookies\n  // i may need to anable cookies by the browser first.\n  // const [cookies, setCookie] = useCookies([\"name\"]);\n\n  // React.useEffect(() => {\n  //   setCookie(\"name\", JSON.stringify({ name: \"other name\" }), { path: \"/\" });\n  // }, []);\n  // const val = JSON.stringify(cookies.name);\n  // console.log(JSON.parse(val));\n\n  // var getCookies = function () {\n  //   var pairs = document.cookie.split(\";\");\n  //   var cookies: any = {};\n  //   for (var i = 0; i < pairs.length; i++) {\n  //     var pair = pairs[i].split(\"=\");\n  //     cookies[(pair[0] + \"\").trim()] = unescape(pair.slice(1).join(\"=\"));\n  //   }\n  //   console.log(cookies);\n  //   return cookies;\n  // };\n\n  // var myCookies = getCookies();\n  const [state, setstate] = React.useState([]);\n  const callback = (response: any, status: number) => {\n    console.log(response, status);\n    setstate(\n      response !== null && response.books !== null ? response.books : []\n    );\n    console.log(response, status);\n  };\n  React.useEffect(() => {\n    lookup(\"GET\", \"api/\", callback);\n  }, []);\n  return (\n    <div className=\"App\">\n      <Header />\n      <Create setData={setstate} />\n      <Main />\n      {state.map((item: any) => Paper(item, setstate))}\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}